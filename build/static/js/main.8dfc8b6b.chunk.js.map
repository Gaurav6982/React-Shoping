{"version":3,"sources":["util.js","types.js","components/Products.js","actions/productActions.js","actions/cartAcions.js","components/Filter.js","components/Cart.js","actions/orderActions.js","store.js","reducers/productReducers.js","reducers/cartReducers.js","reducers/orderReducers.js","App.js","index.js"],"names":["formatCurrency","num","Number","parseFloat","toFixed","toLocaleString","FETCH_PRODUCTS","ADD_TO_CART","REMOVE_FROM_CART","ORDER_PRODUCTS_BY_SIZE","SORT_PRODUCTS_BY_PRICE","CREATE_ORDER","CLEAR_ORDER","CLEAR_CART","Products","props","closeModal","setState","product","openModal","state","this","fetchProducts","available","JSON","parse","availableSizes","products","bottom","cascade","className","map","href","id","onClick","src","image","alt","title","price","addToCart","isOpen","onRequestClose","ariaHideApp","description","x","Component","connect","filteredItems","dispatch","a","fetch","res","json","data","type","payload","getState","cartItems","cart","slice","alreadyAdded","forEach","element","count","push","localStorage","setItem","stringify","Filter","filteredProducts","length","value","size","onChange","e","filterProducts","target","sort","sortProducts","items","filter","indexOf","sortedProducts","b","Cart","handleInput","name","checkOrder","preventDefault","order","email","address","total","reduce","c","createOrder","showForm","clearOrder","left","item","removeFromCart","right","onSubmit","required","method","headers","body","then","clear","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","combineReducers","action","getItem","applyMiddleware","thunk","App","React","ReactDOM","render","Fragment","document","getElementById"],"mappings":"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","file":"static/js/main.8dfc8b6b.chunk.js","sourcesContent":["export default function formatCurrency(num){\r\n    return \"$\"+Number(parseFloat(num).toFixed(1)).toLocaleString()+\" \";\r\n}","export const FETCH_PRODUCTS='FETCH_PRODUCTS';\r\nexport const ADD_TO_CART='ADD_TO_CART';\r\nexport const REMOVE_FROM_CART='REMOVE_FROM_CART';\r\nexport const ORDER_PRODUCTS_BY_SIZE='ORDER_PRODUCTS_BY_SIZE';\r\nexport const SORT_PRODUCTS_BY_PRICE='SORT_PRODUCTS_BY_PRICE';\r\nexport const CREATE_ORDER=\"CREATE_ORDER\";\r\nexport const CLEAR_ORDER=\"CLEAR_ORDER\";\r\nexport const CLEAR_CART=\"CLEAR_CART\";","import React, { Component } from \"react\";\r\nimport formatCurrency from \"../util\";\r\nimport Fade from \"react-reveal/Fade\";\r\nimport Zoom from \"react-reveal/Zoom\";\r\nimport Modal from \"react-modal\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchProducts } from \"../actions/productActions\";\r\nimport {addToCart} from \"../actions/cartAcions\"\r\nclass Products extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      product: null,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.fetchProducts();\r\n  }\r\n  closeModal = () => {\r\n    this.setState({ product: null });\r\n  };\r\n  openModal = (product) => {\r\n    this.setState({ product });\r\n  };\r\n  render() {\r\n    const available = this.state.product\r\n      ? JSON.parse(this.state.product.availableSizes)\r\n      : [];\r\n    return (\r\n      <div>\r\n        {!this.props.products ? (\r\n          <div>Loading...</div>\r\n        ) : (\r\n          <Fade bottom cascade>\r\n            <ul className=\"products\">\r\n              {this.props.products.map((product) => (\r\n                <li key={product.id}>\r\n                  <div className=\"product\">\r\n                    <a\r\n                      href={\"#\" + product.id}\r\n                      onClick={() => this.openModal(product)}\r\n                    >\r\n                      <img src={product.image} alt={product.title} />\r\n                      <p>{product.title}</p>\r\n                    </a>\r\n                    <div className=\"product-price\">\r\n                      <div>{formatCurrency(product.price)}</div>\r\n                      <button\r\n                        onClick={() => this.props.addToCart(product)}\r\n                        className=\"button primary\"\r\n                      >\r\n                        Add to Cart\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </Fade>\r\n        )}\r\n\r\n        {this.state.product && (\r\n          <Modal isOpen={true} onRequestClose={this.closeModal} ariaHideApp={false}>\r\n            <Zoom>\r\n              <div className=\"close-btn\">\r\n                <button\r\n                  className=\"button close-modal\"\r\n                  onClick={this.closeModal}\r\n                >\r\n                  x\r\n                </button>\r\n              </div>\r\n              <div className=\"product-details\">\r\n                <img\r\n                  src={this.state.product.image}\r\n                  alt={this.state.product.title}\r\n                />\r\n                <div className=\"product-details-description\">\r\n                  <p>\r\n                    <strong>{this.state.product.title}</strong>\r\n                  </p>\r\n                  <p>{this.state.product.description}</p>\r\n                  <p>\r\n                    Available Sizes :{\" \"}\r\n                    {available.map((x) => (\r\n                      <span>\r\n                        {\" \"}\r\n                        <button className=\"button\">{x}</button>\r\n                      </span>\r\n                    ))}\r\n                  </p>\r\n                  <p>\r\n                    <div className=\"product-price\">\r\n                      <div>{formatCurrency(this.state.product.price)}</div>\r\n                      <button\r\n                        className=\"button primary\"\r\n                        onClick={() => {\r\n                          this.props.addToCart(this.state.product);\r\n                          this.closeModal();\r\n                        }}\r\n                      >\r\n                        Add to Cart\r\n                      </button>\r\n                    </div>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </Zoom>\r\n          </Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  (state) => ({ products: state.products.filteredItems }),\r\n  { fetchProducts,addToCart }\r\n)(Products);\r\n","import { FETCH_PRODUCTS, ORDER_PRODUCTS_BY_SIZE, SORT_PRODUCTS_BY_PRICE } from \"../types\";\r\n\r\nexport const fetchProducts = ()=>async(dispatch)=>{\r\n    const res=await fetch(\"https://shopping-react-backend.herokuapp.com/api/products\");\r\n    const data=await res.json();\r\n    dispatch({\r\n        type:FETCH_PRODUCTS,\r\n        payload:data,\r\n    });\r\n}\r\n\r\nexport const filterProducts=(products,size)=>(dispatch)=>{\r\n    dispatch({\r\n        type:ORDER_PRODUCTS_BY_SIZE,\r\n        payload:{\r\n            size:size,\r\n            items:size===\"\"?products:products.filter(x=>JSON.parse(x.availableSizes).indexOf(size)>=0),\r\n        }\r\n    })\r\n}\r\n\r\nexport const sortProducts=(filteredProducts,sort)=>(dispatch)=>{\r\n    // let final;\r\n    var sortedProducts=filteredProducts.slice();\r\n    if(sort===\"latest\")\r\n    {\r\n        sortedProducts.sort((a,b)=>(a.id>b.id?1:-1));\r\n    }\r\n    else\r\n    {\r\n        if(sort===\"lowest\")\r\n        {\r\n            sortedProducts.sort((a,b)=>(a.price>b.price?1:-1));\r\n        }\r\n        else\r\n        {\r\n            sortedProducts.sort((a,b)=>a.price>b.price?-1:1);\r\n        }\r\n    }\r\n    dispatch({\r\n        type:SORT_PRODUCTS_BY_PRICE,\r\n        payload:{\r\n            sort:sort,\r\n            items:sortedProducts\r\n        }\r\n    })\r\n}","import { ADD_TO_CART, REMOVE_FROM_CART } from \"../types\"\r\n\r\nexport const addToCart=(product)=>(dispatch,getState)=>{\r\n    const cartItems=getState().cart.cartItems.slice();\r\n    let alreadyAdded=false;\r\n    cartItems.forEach(element => {\r\n        if(element.id===product.id)\r\n        {\r\n            alreadyAdded=true;\r\n            element.count++;\r\n        }\r\n    });\r\n    if(!alreadyAdded)\r\n        cartItems.push({...product,count:1});\r\n    dispatch({\r\n        type:ADD_TO_CART,\r\n        payload:cartItems\r\n    })\r\n    localStorage.setItem(\"cartItems\",JSON.stringify(cartItems));\r\n}\r\n\r\nexport const removeFromCart=(product)=>(dispatch,getState)=>{\r\n    const cartItems=getState().cart.cartItems.slice().filter(x=>x.id!==product.id);\r\n    dispatch({\r\n        type:REMOVE_FROM_CART,\r\n        payload:cartItems,\r\n    })\r\n    localStorage.setItem(\"cartItems\",JSON.stringify(cartItems));\r\n}","import React, { Component } from 'react'\r\nimport {connect} from \"react-redux\"\r\nimport {filterProducts,sortProducts} from \"../actions/productActions\"\r\nclass Filter extends Component {\r\n    // componentDidMount(){\r\n    //     this.props.filterProducts();\r\n    //     this.props.sortProducts();\r\n    // }\r\n    render() {\r\n        return (\r\n            !this.props.filteredProducts?(<div>Loading...</div>):(\r\n            <div className=\"filter\">\r\n                <div>\r\n                    {this.props.filteredProducts.length} Products\r\n                </div>\r\n                <div>\r\n                    Size :{\" \"}\r\n                    <select value={this.props.size} onChange={(e)=>this.props.filterProducts(this.props.products,e.target.value)}>\r\n                        <option value=\"\">ALL</option>\r\n                        <option value=\"XS\">XS</option>\r\n                        <option value=\"S\">S</option>\r\n                        <option value=\"M\">M</option>\r\n                        <option value=\"L\">L</option>\r\n                        <option value=\"XL\">XL</option>\r\n                        <option value=\"XXL\">XXL</option>\r\n                    </select>\r\n                </div>\r\n                <div>\r\n                    Order :{\" \"}\r\n                    <select value={this.props.sort} onChange={(e)=>this.props.sortProducts(this.props.filteredProducts,e.target.value)}>\r\n                        <option value=\"latest\">latest</option>\r\n                        <option value=\"lowest\">lowest</option>\r\n                        <option value=\"highest\">highest</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            )\r\n        )\r\n    }\r\n}\r\nexport default connect((state=>({\r\n    products:state.products.items,\r\n    filteredProducts:state.products.filteredItems,\r\n    sort:state.products.sort,\r\n    size:state.products.size, \r\n})),{\r\n    filterProducts,\r\n    sortProducts\r\n})(Filter);\r\n","import React, { Component } from \"react\";\r\nimport formatCurrency from \"../util\";\r\nimport Modal from \"react-modal\";\r\nimport Zoom from \"react-reveal/Zoom\";\r\nimport Fade from \"react-reveal/Fade\";\r\nimport { connect } from \"react-redux\";\r\nimport { removeFromCart } from \"../actions/cartAcions\";\r\nimport {createOrder,clearOrder} from \"../actions/orderActions\";\r\nclass Cart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      name: \"\",\r\n      email: \"\",\r\n      address: \"\",\r\n      showForm: false,\r\n    };\r\n  }\r\n  handleInput = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n  checkOrder = (e) => {\r\n    e.preventDefault();\r\n\r\n    const order = {\r\n      name: this.state.name,\r\n      email: this.state.email,\r\n      address: this.state.address,\r\n      cartItems: this.props.cartItems,\r\n      total:this.props.cartItems.reduce((a,c)=>a+c.price*c.count,0)\r\n    };\r\n    this.props.createOrder(order);\r\n  };\r\n  closeModal=()=>{\r\n    this.setState({name:\"\",email:\"\",address:\"\",showForm:false});\r\n    this.props.clearOrder();\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.props.cartItems.length === 0 ? (\r\n          <div className=\"cart cart-header\">Cart is Empty.</div>\r\n        ) : (\r\n          <div className=\"cart cart-header\">\r\n            You have {this.props.cartItems.length} in the cart.{\" \"}\r\n          </div>\r\n        )}\r\n        {this.props.order && (\r\n          <Modal isOpen={true} ariaHideApp={false}>\r\n            <Zoom>\r\n            <div className=\"close-btn\">\r\n              <button className=\"close-modal\" onClick={this.closeModal}>x</button>\r\n            </div>\r\n              <div className=\"order-details\">\r\n                <h3 className=\"success-message\">YOUR ORDER HAS BEEN PLACED.</h3>\r\n                <h2 >order {this.props.order.id}</h2>\r\n                <ul>\r\n                  <li key={\"name\"+this.props.order.id}>\r\n                    <div>Name:</div>\r\n                    <div>{this.props.order.name}</div>\r\n                  </li>\r\n                  <li key={\"email\"+this.props.order.id}>\r\n                    <div>Email:</div>\r\n                    <div>{this.props.order.email}</div>\r\n                  </li>\r\n                  <li key={\"address\"+this.props.order.id}>\r\n                    <div>Address:</div>\r\n                    <div>{this.props.order.address}</div>\r\n                  </li>\r\n                  <li key={\"total\"+this.props.order.id}>\r\n                    <div>Total:</div>\r\n                    <div>{formatCurrency(this.props.order.total)}</div>\r\n                  </li>\r\n                  <li key={\"items\"+this.props.order.id}>\r\n                    <div>Cart Items:</div>\r\n                    <div>\r\n                      {JSON.parse(this.props.order.cartItems).map(x=>(\r\n                        <div>\r\n                          {x.count}{\" x \"} {x.title}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </Zoom>\r\n          </Modal>\r\n        )}\r\n        <div>\r\n          <div className=\"cart\">\r\n            <Fade left cascade>\r\n              <ul className=\"cart-items\">\r\n                {this.props.cartItems.map((item) => (\r\n                  <li key={item.id}>\r\n                    <div>\r\n                      <img src={item.image} alt={item.title} />\r\n                    </div>\r\n                    <div>\r\n                      <div>{item.title}</div>\r\n                      <div className=\"right\">\r\n                        {formatCurrency(item.price)} x {item.count}{\" \"}\r\n                        <button\r\n                          className=\"button\"\r\n                          onClick={() => this.props.removeFromCart(item)}\r\n                        >\r\n                          Remove\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </Fade>\r\n          </div>\r\n          {this.props.cartItems.length !== 0 && (\r\n            <div>\r\n              <div className=\"cart\">\r\n                <div className=\"total\">\r\n                  <div>\r\n                    Total:{\" \"}\r\n                    {formatCurrency(\r\n                      this.props.cartItems.reduce(\r\n                        (a, c) => a + c.price * c.count,\r\n                        0\r\n                      )\r\n                    )}\r\n                  </div>\r\n                  <button\r\n                    onClick={() => this.setState({ showForm: true })}\r\n                    className=\"button primary\"\r\n                  >\r\n                    Proceed\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              {this.state.showForm && (\r\n                <Fade right cascade>\r\n                  <div className=\"cart\">\r\n                    <form onSubmit={this.checkOrder}>\r\n                      <ul className=\"form-container\">\r\n                        <li key=\"email\">\r\n                          <label>Email</label>\r\n                          <input\r\n                            type=\"email\"\r\n                            name=\"email\"\r\n                            required\r\n                            onChange={this.handleInput}\r\n                          />\r\n                        </li>\r\n                        <li key=\"name\">\r\n                          <label>Name</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"name\"\r\n                            required\r\n                            onChange={this.handleInput}\r\n                          />\r\n                        </li>\r\n                        <li key=\"address\">\r\n                          <label>Address</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"address\"\r\n                            required\r\n                            onChange={this.handleInput}\r\n                          />\r\n                        </li>\r\n                        <li key=\"checkout\">\r\n                          <button className=\"button primary\">Checkout</button>\r\n                        </li>\r\n                      </ul>\r\n                    </form>\r\n                  </div>\r\n                </Fade>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  (state) => ({\r\n    order:state.order.order,\r\n    cartItems: state.cart.cartItems,\r\n  }),\r\n  {\r\n    createOrder,\r\n    clearOrder,\r\n    removeFromCart,\r\n  }\r\n)(Cart);\r\n","import { CLEAR_CART, CLEAR_ORDER, CREATE_ORDER } from \"../types\"\r\n\r\nexport const createOrder=(order)=>(dispatch)=>{\r\n    fetch(\"https://shopping-react-backend.herokuapp.com/api/order\",{\r\n        method:\"POST\",\r\n        headers:{\r\n            \"Content-type\":\"applicaton/json\",\r\n        },\r\n        body:JSON.stringify(order)\r\n    }).then(res=>res.json())\r\n    .then(data=>{\r\n        dispatch({\r\n            type:CREATE_ORDER,payload:data\r\n        });\r\n        localStorage.clear(\"cartItems\");\r\n        dispatch({type:CLEAR_CART});\r\n    })\r\n}\r\n\r\nexport const clearOrder=()=>(dispatch)=>{\r\n    dispatch({type:CLEAR_ORDER})\r\n}","import {createStore,applyMiddleware,compose,combineReducers} from 'redux';\r\nimport thunk from \"redux-thunk\";\r\nimport { productsReducer } from './reducers/productReducers';\r\nimport { cartReducer } from './reducers/cartReducers';\r\nimport { orderReducer } from './reducers/orderReducers';\r\n\r\nconst initialState={};\r\nconst composeEnhancer=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ||compose;\r\nconst store=createStore(combineReducers({\r\n    products:productsReducer,\r\n    cart:cartReducer,\r\n    order:orderReducer\r\n    }),\r\n    initialState,\r\n    composeEnhancer(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import {\r\n  FETCH_PRODUCTS,\r\n  ORDER_PRODUCTS_BY_SIZE,\r\n  SORT_PRODUCTS_BY_PRICE,\r\n} from \"../types\";\r\n\r\nexport const productsReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case FETCH_PRODUCTS:\r\n      return { items: action.payload, filteredItems: action.payload };\r\n    case ORDER_PRODUCTS_BY_SIZE:\r\n      return {\r\n        ...state,\r\n        filteredItems: action.payload.items,\r\n        size: action.payload.size,\r\n      };\r\n    case SORT_PRODUCTS_BY_PRICE:\r\n      return {\r\n        ...state,\r\n        filteredItems: action.payload.items,\r\n        sort: action.payload.sort,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { ADD_TO_CART, CLEAR_CART, REMOVE_FROM_CART } from \"../types\";\r\n\r\nexport const cartReducer=(state={cartItems:JSON.parse(localStorage.getItem(\"cartItems\")||\"[]\")},action)=>{\r\n    switch(action.type){\r\n        case ADD_TO_CART:return {cartItems:action.payload}\r\n        case REMOVE_FROM_CART:return {cartItems:action.payload}\r\n        case CLEAR_CART:return {cartItems:[]}\r\n        default: return state;\r\n    }\r\n}","import {  CLEAR_ORDER, CREATE_ORDER } from \"../types\";\r\n\r\nexport const orderReducer=(state={},action)=>{\r\n    switch(action.type)\r\n    {\r\n        case CREATE_ORDER: return {order:action.payload}\r\n        case CLEAR_ORDER:return {order:null};\r\n        // case CLEAR_CART:return state; \r\n        default:return state;\r\n    }\r\n}\r\n","//feature 1\r\nimport React from \"react\";\r\nimport Products from \"./components/Products\";\r\nimport Filter from \"./components/Filter\";\r\nimport Cart from \"./components/Cart\";\r\nimport store from \"./store\"\r\nimport {Provider} from \"react-redux\"\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <Provider store={store}>\r\n      <div className=\"grid-container\">\r\n        <header>\r\n          <a href=\"/\">React shoping Cart</a>\r\n        </header>\r\n        <main>\r\n          <div className=\"content\">\r\n            <div className=\"main\">\r\n              <Filter\r\n               \r\n              ></Filter>\r\n              <Products\r\n              \r\n              />\r\n            </div>\r\n            <div className=\"sidebar\">\r\n              <Cart\r\n          \r\n              />\r\n            </div>\r\n          </div>\r\n        </main>\r\n        <footer>All rights Reserved.</footer>\r\n      </div>\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.Fragment>\r\n    <App />\r\n  </React.Fragment>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}