{"version":3,"sources":["util.js","types.js","components/Products.js","actions/productActions.js","actions/cartAcions.js","components/Filter.js","components/Cart.js","actions/orderActions.js","store.js","reducers/productReducers.js","reducers/cartReducers.js","reducers/orderReducers.js","App.js","index.js"],"names":["formatCurrency","num","Number","parseFloat","toFixed","toLocaleString","FETCH_PRODUCTS","ADD_TO_CART","REMOVE_FROM_CART","ORDER_PRODUCTS_BY_SIZE","SORT_PRODUCTS_BY_PRICE","CREATE_ORDER","CLEAR_ORDER","Products","props","closeModal","setState","product","openModal","state","this","fetchProducts","available","JSON","parse","availableSizes","products","bottom","cascade","className","map","href","id","onClick","src","image","alt","title","price","addToCart","isOpen","description","x","Component","connect","filteredItems","dispatch","a","fetch","res","json","data","type","payload","getState","cartItems","cart","slice","alreadyAdded","forEach","element","count","push","localStorage","setItem","stringify","Filter","filteredProducts","length","value","size","onChange","e","filterProducts","target","sort","sortProducts","items","filter","indexOf","sortedProducts","b","Cart","handleInput","console","log","name","checkOrder","preventDefault","order","email","address","total","reduce","c","createOrder","clearOrder","showForm","onRequestClose","left","item","removeFromCart","right","onSubmit","required","method","headers","body","then","clear","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","combineReducers","action","getItem","applyMiddleware","thunk","App","React","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.31a76f1e.chunk.js","sourcesContent":["export default function formatCurrency(num){\r\n    return \"$\"+Number(parseFloat(num).toFixed(1)).toLocaleString()+\" \";\r\n}","export const FETCH_PRODUCTS='FETCH_PRODUCTS';\r\nexport const ADD_TO_CART='ADD_TO_CART';\r\nexport const REMOVE_FROM_CART='REMOVE_FROM_CART';\r\nexport const ORDER_PRODUCTS_BY_SIZE='ORDER_PRODUCTS_BY_SIZE';\r\nexport const SORT_PRODUCTS_BY_PRICE='SORT_PRODUCTS_BY_PRICE';\r\nexport const CREATE_ORDER=\"CREATE_ORDER\";\r\nexport const CLEAR_ORDER=\"CLEAR_ORDER\";\r\nexport const CLEAR_CART=\"CLEAR_CART\";","import React, { Component } from \"react\";\r\nimport formatCurrency from \"../util\";\r\nimport Fade from \"react-reveal/Fade\";\r\nimport Zoom from \"react-reveal/Zoom\";\r\nimport Modal from \"react-modal\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchProducts } from \"../actions/productActions\";\r\nimport {addToCart} from \"../actions/cartAcions\"\r\nclass Products extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      product: null,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.fetchProducts();\r\n  }\r\n  closeModal = () => {\r\n    this.setState({ product: null });\r\n  };\r\n  openModal = (product) => {\r\n    this.setState({ product });\r\n  };\r\n  render() {\r\n    const available = this.state.product\r\n      ? JSON.parse(this.state.product.availableSizes)\r\n      : [];\r\n    return (\r\n      <div>\r\n        {!this.props.products ? (\r\n          <div>Loading...</div>\r\n        ) : (\r\n          <Fade bottom cascade>\r\n            <ul className=\"products\">\r\n              {this.props.products.map((product) => (\r\n                <li key={product.id}>\r\n                  <div className=\"product\">\r\n                    <a\r\n                      href={\"#\" + product.id}\r\n                      onClick={() => this.openModal(product)}\r\n                    >\r\n                      <img src={product.image} alt={product.title} />\r\n                      <p>{product.title}</p>\r\n                    </a>\r\n                    <div className=\"product-price\">\r\n                      <div>{formatCurrency(product.price)}</div>\r\n                      <button\r\n                        onClick={() => this.props.addToCart(product)}\r\n                        className=\"button primary\"\r\n                      >\r\n                        Add to Cart\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </Fade>\r\n        )}\r\n\r\n        {this.state.product && (\r\n          <Modal isOpen={true}>\r\n            <Zoom>\r\n              <div className=\"close-btn\">\r\n                <button\r\n                  className=\"button close-modal\"\r\n                  onClick={this.closeModal}\r\n                >\r\n                  x\r\n                </button>\r\n              </div>\r\n              <div className=\"product-details\">\r\n                <img\r\n                  src={this.state.product.image}\r\n                  alt={this.state.product.title}\r\n                />\r\n                <div className=\"product-details-description\">\r\n                  <p>\r\n                    <strong>{this.state.product.title}</strong>\r\n                  </p>\r\n                  <p>{this.state.product.description}</p>\r\n                  <p>\r\n                    Available Sizes :{\" \"}\r\n                    {available.map((x) => (\r\n                      <span>\r\n                        {\" \"}\r\n                        <button className=\"button\">{x}</button>\r\n                      </span>\r\n                    ))}\r\n                  </p>\r\n                  <p>\r\n                    <div className=\"product-price\">\r\n                      <div>{formatCurrency(this.state.product.price)}</div>\r\n                      <button\r\n                        className=\"button primary\"\r\n                        onClick={() => {\r\n                          this.props.addToCart(this.state.product);\r\n                          this.closeModal();\r\n                        }}\r\n                      >\r\n                        Add to Cart\r\n                      </button>\r\n                    </div>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </Zoom>\r\n          </Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  (state) => ({ products: state.products.filteredItems }),\r\n  { fetchProducts,addToCart }\r\n)(Products);\r\n","import { FETCH_PRODUCTS, ORDER_PRODUCTS_BY_SIZE, SORT_PRODUCTS_BY_PRICE } from \"../types\";\r\n\r\nexport const fetchProducts = ()=>async(dispatch)=>{\r\n    const res=await fetch(\"http://127.0.0.1:8000/api/products\");\r\n    const data=await res.json();\r\n    dispatch({\r\n        type:FETCH_PRODUCTS,\r\n        payload:data,\r\n    });\r\n}\r\n\r\nexport const filterProducts=(products,size)=>(dispatch)=>{\r\n    dispatch({\r\n        type:ORDER_PRODUCTS_BY_SIZE,\r\n        payload:{\r\n            size:size,\r\n            items:size===\"\"?products:products.filter(x=>JSON.parse(x.availableSizes).indexOf(size)>=0),\r\n        }\r\n    })\r\n}\r\n\r\nexport const sortProducts=(filteredProducts,sort)=>(dispatch)=>{\r\n    // let final;\r\n    var sortedProducts=filteredProducts.slice();\r\n    if(sort===\"latest\")\r\n    {\r\n        sortedProducts.sort((a,b)=>(a.id>b.id?1:-1));\r\n    }\r\n    else\r\n    {\r\n        if(sort===\"lowest\")\r\n        {\r\n            sortedProducts.sort((a,b)=>(a.price>b.price?1:-1));\r\n        }\r\n        else\r\n        {\r\n            sortedProducts.sort((a,b)=>a.price>b.price?-1:1);\r\n        }\r\n    }\r\n    dispatch({\r\n        type:SORT_PRODUCTS_BY_PRICE,\r\n        payload:{\r\n            sort:sort,\r\n            items:sortedProducts\r\n        }\r\n    })\r\n}","import { ADD_TO_CART, REMOVE_FROM_CART } from \"../types\"\r\n\r\nexport const addToCart=(product)=>(dispatch,getState)=>{\r\n    const cartItems=getState().cart.cartItems.slice();\r\n    let alreadyAdded=false;\r\n    cartItems.forEach(element => {\r\n        if(element.id===product.id)\r\n        {\r\n            alreadyAdded=true;\r\n            element.count++;\r\n        }\r\n    });\r\n    if(!alreadyAdded)\r\n        cartItems.push({...product,count:1});\r\n    dispatch({\r\n        type:ADD_TO_CART,\r\n        payload:cartItems\r\n    })\r\n    localStorage.setItem(\"cartItems\",JSON.stringify(cartItems));\r\n}\r\n\r\nexport const removeFromCart=(product)=>(dispatch,getState)=>{\r\n    const cartItems=getState().cart.cartItems.slice().filter(x=>x.id!==product.id);\r\n    dispatch({\r\n        type:REMOVE_FROM_CART,\r\n        payload:cartItems,\r\n    })\r\n    localStorage.setItem(\"cartItems\",JSON.stringify(cartItems));\r\n}","import React, { Component } from 'react'\r\nimport {connect} from \"react-redux\"\r\nimport {filterProducts,sortProducts} from \"../actions/productActions\"\r\nclass Filter extends Component {\r\n    // componentDidMount(){\r\n    //     this.props.filterProducts();\r\n    //     this.props.sortProducts();\r\n    // }\r\n    render() {\r\n        return (\r\n            !this.props.filteredProducts?(<div>Loading...</div>):(\r\n            <div className=\"filter\">\r\n                <div>\r\n                    {this.props.filteredProducts.length} Products\r\n                </div>\r\n                <div>\r\n                    Size :{\" \"}\r\n                    <select value={this.props.size} onChange={(e)=>this.props.filterProducts(this.props.products,e.target.value)}>\r\n                        <option value=\"\">ALL</option>\r\n                        <option value=\"XS\">XS</option>\r\n                        <option value=\"S\">S</option>\r\n                        <option value=\"M\">M</option>\r\n                        <option value=\"L\">L</option>\r\n                        <option value=\"XL\">XL</option>\r\n                        <option value=\"XXL\">XXL</option>\r\n                    </select>\r\n                </div>\r\n                <div>\r\n                    Order :{\" \"}\r\n                    <select value={this.props.sort} onChange={(e)=>this.props.sortProducts(this.props.filteredProducts,e.target.value)}>\r\n                        <option value=\"latest\">latest</option>\r\n                        <option value=\"lowest\">lowest</option>\r\n                        <option value=\"highest\">highest</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            )\r\n        )\r\n    }\r\n}\r\nexport default connect((state=>({\r\n    products:state.products.items,\r\n    filteredProducts:state.products.filteredItems,\r\n    sort:state.products.sort,\r\n    size:state.products.size, \r\n})),{\r\n    filterProducts,\r\n    sortProducts\r\n})(Filter);\r\n","import React, { Component } from \"react\";\r\nimport formatCurrency from \"../util\";\r\nimport Modal from \"react-modal\";\r\nimport Zoom from \"react-reveal/Zoom\";\r\nimport Fade from \"react-reveal/Fade\";\r\nimport { connect } from \"react-redux\";\r\nimport { removeFromCart } from \"../actions/cartAcions\";\r\nimport {createOrder,clearOrder} from \"../actions/orderActions\";\r\nclass Cart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      name: \"\",\r\n      email: \"\",\r\n      address: \"\",\r\n      showForm: false,\r\n    };\r\n  }\r\n  handleInput = (e) => {\r\n    console.log(e);\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n  checkOrder = (e) => {\r\n    e.preventDefault();\r\n\r\n    const order = {\r\n      name: this.state.name,\r\n      email: this.state.email,\r\n      address: this.state.address,\r\n      cartItems: this.props.cartItems,\r\n      total:this.props.cartItems.reduce((a,c)=>a+c.price*c.count,0)\r\n    };\r\n    this.props.createOrder(order);\r\n  };\r\n  closeModal=()=>{\r\n    this.props.clearOrder();\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.props.cartItems.length === 0 ? (\r\n          <div className=\"cart cart-header\">Cart is Empty.</div>\r\n        ) : (\r\n          <div className=\"cart cart-header\">\r\n            You have {this.props.cartItems.length} in the cart.{\" \"}\r\n          </div>\r\n        )}\r\n        {this.props.order && (\r\n          <Modal isOpen={true} onRequestClose={this.closeModal}>\r\n            <Zoom>\r\n              <button className=\"close-modal\" onClick={this.closeModal}>x</button>\r\n              <div className=\"order-details\">\r\n                <h3 className=\"success-message\">YOUR ORDER HAS BEEN PLACED.</h3>\r\n                <h2 >order {this.props.order.id}</h2>\r\n                <ul>\r\n                  <li>\r\n                    <div>Name:</div>\r\n                    <div>{this.props.order.name}</div>\r\n                  </li>\r\n                  <li>\r\n                    <div>Email:</div>\r\n                    <div>{this.props.order.email}</div>\r\n                  </li>\r\n                  <li>\r\n                    <div>Address:</div>\r\n                    <div>{this.props.order.address}</div>\r\n                  </li>\r\n                  <li>\r\n                    <div>Total:</div>\r\n                    <div>{formatCurrency(this.props.order.total)}</div>\r\n                  </li>\r\n                  <li>\r\n                    <div>Cart Items:</div>\r\n                    <div>\r\n                      {JSON.parse(this.props.order.cartItems).map(x=>(\r\n                        <div>\r\n                          {x.count}{\" x \"} {x.title}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </Zoom>\r\n          </Modal>\r\n        )}\r\n        <div>\r\n          <div className=\"cart\">\r\n            <Fade left cascade>\r\n              <ul className=\"cart-items\">\r\n                {this.props.cartItems.map((item) => (\r\n                  <li key={item.id}>\r\n                    <div>\r\n                      <img src={item.image} alt={item.title} />\r\n                    </div>\r\n                    <div>\r\n                      <div>{item.title}</div>\r\n                      <div className=\"right\">\r\n                        {formatCurrency(item.price)} x {item.count}{\" \"}\r\n                        <button\r\n                          className=\"button\"\r\n                          onClick={() => this.props.removeFromCart(item)}\r\n                        >\r\n                          Remove\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </Fade>\r\n          </div>\r\n          {this.props.cartItems.length !== 0 && (\r\n            <div>\r\n              <div className=\"cart\">\r\n                <div className=\"total\">\r\n                  <div>\r\n                    Total:{\" \"}\r\n                    {formatCurrency(\r\n                      this.props.cartItems.reduce(\r\n                        (a, c) => a + c.price * c.count,\r\n                        0\r\n                      )\r\n                    )}\r\n                  </div>\r\n                  <button\r\n                    onClick={() => this.setState({ showForm: true })}\r\n                    className=\"button primary\"\r\n                  >\r\n                    Proceed\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              {this.state.showForm && (\r\n                <Fade right cascade>\r\n                  <div className=\"cart\">\r\n                    <form onSubmit={this.checkOrder}>\r\n                      <ul className=\"form-container\">\r\n                        <li>\r\n                          <label>Email</label>\r\n                          <input\r\n                            type=\"email\"\r\n                            name=\"email\"\r\n                            required\r\n                            onChange={this.handleInput}\r\n                          />\r\n                        </li>\r\n                        <li>\r\n                          <label>Name</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"name\"\r\n                            required\r\n                            onChange={this.handleInput}\r\n                          />\r\n                        </li>\r\n                        <li>\r\n                          <label>Address</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"address\"\r\n                            required\r\n                            onChange={this.handleInput}\r\n                          />\r\n                        </li>\r\n                        <li>\r\n                          <button className=\"button primary\">Checkout</button>\r\n                        </li>\r\n                      </ul>\r\n                    </form>\r\n                  </div>\r\n                </Fade>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  (state) => ({\r\n    order:state.order.item,\r\n    cartItems: state.cart.cartItems,\r\n  }),\r\n  {\r\n    createOrder,\r\n    clearOrder,\r\n    removeFromCart,\r\n  }\r\n)(Cart);\r\n","import { CLEAR_CART, CLEAR_ORDER, CREATE_ORDER } from \"../types\"\r\n\r\nexport const createOrder=(order)=>(dispatch)=>{\r\n    fetch(\"http://127.0.0.1:8000/api/order\",{\r\n        method:\"POST\",\r\n        headers:{\r\n            \"Content-type\":\"applicaton/json\",\r\n        },\r\n        body:JSON.stringify(order)\r\n    }).then(res=>res.json())\r\n    .then(data=>{\r\n        dispatch({\r\n            type:CREATE_ORDER,payload:data\r\n        });\r\n        localStorage.clear(\"cartItems\");\r\n        dispatch({type:CLEAR_CART});\r\n    })\r\n}\r\n\r\nexport const clearOrder=()=>(dispatch)=>{\r\n    dispatch({type:CLEAR_ORDER})\r\n}","import {createStore,applyMiddleware,compose,combineReducers} from 'redux';\r\nimport thunk from \"redux-thunk\";\r\nimport { productsReducer } from './reducers/productReducers';\r\nimport { cartReducer } from './reducers/cartReducers';\r\nimport { orderReducer } from './reducers/orderReducers';\r\n\r\nconst initialState={};\r\nconst composeEnhancer=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ||compose;\r\nconst store=createStore(combineReducers({\r\n    products:productsReducer,\r\n    cart:cartReducer,\r\n    order:orderReducer\r\n    }),\r\n    initialState,\r\n    composeEnhancer(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import {\r\n  FETCH_PRODUCTS,\r\n  ORDER_PRODUCTS_BY_SIZE,\r\n  SORT_PRODUCTS_BY_PRICE,\r\n} from \"../types\";\r\n\r\nexport const productsReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case FETCH_PRODUCTS:\r\n      return { items: action.payload, filteredItems: action.payload };\r\n    case ORDER_PRODUCTS_BY_SIZE:\r\n      return {\r\n        ...state,\r\n        filteredItems: action.payload.items,\r\n        size: action.payload.size,\r\n      };\r\n    case SORT_PRODUCTS_BY_PRICE:\r\n      return {\r\n        ...state,\r\n        filteredItems: action.payload.items,\r\n        sort: action.payload.sort,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { ADD_TO_CART, REMOVE_FROM_CART } from \"../types\";\r\n\r\nexport const cartReducer=(state={cartItems:JSON.parse(localStorage.getItem(\"cartItems\")||\"[]\")},action)=>{\r\n    switch(action.type){\r\n        case ADD_TO_CART:return {cartItems:action.payload}\r\n        case REMOVE_FROM_CART:return {cartItems:action.payload}\r\n        default: return state;\r\n    }\r\n}","import { CLEAR_CART, CLEAR_ORDER, CREATE_ORDER } from \"../types\";\r\n\r\nexport const orderReducer=(state={},action)=>{\r\n    switch(action.type)\r\n    {\r\n        case CREATE_ORDER: return {item:action.payload}\r\n        case CLEAR_ORDER:return {item:null};\r\n        // case CLEAR_CART:return {}; \r\n        default:return state;\r\n    }\r\n}\r\n","//feature 1\r\nimport React from \"react\";\r\nimport Products from \"./components/Products\";\r\nimport Filter from \"./components/Filter\";\r\nimport Cart from \"./components/Cart\";\r\nimport store from \"./store\"\r\nimport {Provider} from \"react-redux\"\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <Provider store={store}>\r\n      <div className=\"grid-container\">\r\n        <header>\r\n          <a href=\"/\">React shoping Cart</a>\r\n        </header>\r\n        <main>\r\n          <div className=\"content\">\r\n            <div className=\"main\">\r\n              <Filter\r\n               \r\n              ></Filter>\r\n              <Products\r\n              \r\n              />\r\n            </div>\r\n            <div className=\"sidebar\">\r\n              <Cart\r\n          \r\n              />\r\n            </div>\r\n          </div>\r\n        </main>\r\n        <footer>All rights Reserved.</footer>\r\n      </div>\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}